

rule "OpenHAB system started"
when
	System started
then {
	logInfo("RULE", "--> openHAB system started rule... waiting 10s")	
	// delayed startup because the rules engine starts to early...
	createTimer(now.plusSeconds(10)) [|
		logInfo("RULE", "--> openHAB system started +10s rule")
		// Zeitraum f체r die rrd-Charts
		//rrd_Chart_Period.postUpdate(1)
		//rrd_Weather_Period.postUpdate(1)

		// Globaler Zustand (An-/Abwesenheit) f체r die Steuerung und Anzeige der zuletzt gemachten Aktion
		logInfo("RULE", "--> Globale Zust채nde und Presets r체cksetzen")
		gInitNone.members.forEach(item |
			item.postUpdate(-1)
		)
		gPower.members.forEach(item |
			if (item.state == NULL) item.postUpdate(0)
		)
	] 
}
end


rule "OpenHAB system shutting down"
when
	System shuts down
then {
	logInfo("RULE", "--> openHAB shutting down rule")
}
end































